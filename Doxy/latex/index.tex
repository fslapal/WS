WS is a proof-\/of-\/concept student project. It was aimed at creating an indoor weather station based on Arduino that sends measured values to a web database.

\section*{Components, wiring}

 The complete scheme in Fritzing is available in the Documentation file.

\subsection*{Components\+:}


\begin{DoxyItemize}
\item Arduino Mega 2560 R3 -\/ microprocessor
\item E\+S\+P8266 -\/ wifi module
\item B\+M\+E280 -\/ temperature, humidity and pressure sensor
\item R\+T\+C1307 -\/ real time clock module (+ C\+R2025 battery)
\item Catalex Micro\+SD card module (+ Micro\+SD card)
\item 20x4 L\+CD display
\end{DoxyItemize}

\subsection*{Libraries\+:}


\begin{DoxyItemize}
\item cactus\+\_\+io\+\_\+\+B\+M\+E280\+\_\+\+I2C (B\+ME, R\+TC)
\item D\+S1307\+R\+TC (R\+TC)
\item Liquid\+Crystal (L\+CD)
\item SD (SD module)
\item S\+PI (B\+ME, SD module)
\item Time\+Lib (R\+TC)
\item Wire (I2C -\/$>$ B\+ME, R\+TC)
\end{DoxyItemize}

\section*{Installation}

Code for the station was written and uploaded with help of Arduino I\+DE. Atom was used for the P\+HP server side programming. To start this station, there are needed a few steps to complete\+:
\begin{DoxyEnumerate}
\item Establish hosting, database and web page.
\item Fill in the Server/variables.\+php with your right credentials.
\item Upload the content of Server folder on your hosting server.
\item Run mysql\+\_\+connect.\+php to create table in the database.
\item Wire up the Arduino according to the wiring diagram included in this file.
\item Fill in all the constants in the Arduino file with server, wifi and other wished credentials (instead of the x sign).
\item Upload the sketch to Arduino and afterwards ensure the power supply is plugged in. It is good to provide the R\+TC with battery. In case of blackout, the right time will be sustained.
\item Adjust both potentiometers to fit your desired brightness and contrast levels.
\item Rejoice the beautiful statistics and graphs made from your data.
\end{DoxyEnumerate}

\section*{Pictures}

Overview of the project with wires\+: 

Connectors\+: 

Front\+: 

B\+ME\+: 

\section*{How does it work?}

By setting the interval in the Arduino file a cycle for recording data begins. Every x hours the internet connection is checked. If E\+SP is connected, the presence of W\+S.\+txt file is checked. Data from B\+ME and R\+TC together with possible data from the SD card is transferred directly to the server. In case of a lost connection, data is stored on an SD card inserted into Catalex module. Both B\+ME and R\+TC work via I2C interface. A communication between Arduino and E\+SP runs on the serial line. SD card module is connected via S\+PI. The L\+CD display renews data every x minutes. A communication between client and database is based on P\+DO and S\+QL commands.

\section*{How to use WS?}

The index page shows average, max and min data for last week with a possibility to change the time horizon. There is also displayed the current date and time and last added row to the database. In the right bottom corner you can choose a specific date to see the detail values and graph. 

The S\+T\+A\+T\+I\+S\+T\+I\+KY page shows the longterm statistics of all values together with graph. You can change the desired date range. 

The V√ù\+P\+IS H\+O\+D\+N\+OT page creates a table of last 50 recorded values.  